## 변수 생명 주기

지역변수

- 함수 내 지역변수는 해당 함수가 호출되기 전까지는 생성되지 않는다
- 함수가 종료되면 변수도 소멸되어 생명 주기 종료
- 지역변수의 생명 주기는 함수의 생명 주기와 일치
- 메모리 공간 확보된 시점부터 해제 되어 가용 메모리 풀에 반화되는 시점까지
- 스코프가 소멸될 때까지 유효
- 클로저의 경우 함수가 종료되어도 스코프를 참조하고 있기에 변수는 종료되지 않는다

전역변수

- 변수 선언문이 어디에 있든 상관 없이 가장 먼저 실행
- 전역 객체의 프로퍼티가 됨

전역 객체

- 코드가 실행되기 이전 단계에 자바스크립트 엔진에 의해 어떤 객체보다도 먼저 생성되는 특수 객체
- browser → window, node.js → global

## 전역 변수의 문제점

암묵적 결합

- 모든 코드가 전역 변수를 참조하고 변경할 수 있음

긴 생명 주기

- 계속 갖고 있으므로 길고 메모리 리소스도 오랜 기간 소비
- 이름 중복 문제

스코프 체인 상에서 종점에 존재

- 변수를 검색할 때 가장 마지막이므로 검색 속도가 가장 느리다

네임스페이스 오염

- 파일이 분리되어 있다 해도 하나의 전역 스코프를 공유

## 전역 변수의 사용 억제법

변수의 스코프는 좁을수록 좋다

즉시 실행 함수

네임스페이스 객체

- 전역에 네임스페이스 역할을 담당할 객체 생성
- 전역 변수처럼 사용하고 싶은 변수를 프로퍼티에 추가

모듈 패턴

- 클로저 사용
- 보통은 정보 은닉을 위해서

ES6 모듈

- 파일별로 독자적인 모듈 스코프 제공
- script type=”module”
